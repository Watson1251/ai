"use strict";(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[124],{6965:(w,M,d)=>{d.d(M,{u:()=>D});var h=d(8929),n=d(1737),v=d(2340),u=d(7221),x=d(4650),f=d(529),b=d(5832);const m=v.N.apiUrl+"/deep-fake/";let D=(()=>{class g{constructor(i,r){this.http=i,this.snackbarService=r,this.users=[],this.usersUpdated=new h.xQ}predictVideo(i){return this.http.post(m+"predict/",{fileId:i},{observe:"response"}).pipe((0,u.K)(r=>this.handleError(r)))}getUsers(){this.http.get(m,{observe:"response"}).pipe((0,u.K)(i=>this.handleError(i))).subscribe(i=>{if(200==i.status||201==i.status){if(null==i.body)return;var P=[];i.body.users.forEach(O=>{P.push({id:O._id,name:O.name,username:O.username,roleId:O.roleId})}),this.users=P,this.usersUpdated.next(this.users)}})}getUser(i){return this.http.get(m+i,{observe:"response"}).pipe((0,u.K)(r=>this.handleError(r)))}createUser(i){return this.http.post(m+"create/",i,{observe:"response"}).pipe((0,u.K)(r=>this.handleError(r)))}updateUser(i){return this.http.post(m+"update/",i,{observe:"response"}).pipe((0,u.K)(r=>this.handleError(r)))}deleteUser(i){return this.http.post(m+"delete/",i,{observe:"response"}).pipe((0,u.K)(r=>this.handleError(r)))}handleError(i){var r="";return r=i.error instanceof ErrorEvent?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0639\u0645\u064a\u0644.":"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0632\u0648\u062f.",i.error.message&&(r+="\n",r+=i.error.message),this.snackbarService.openSnackBar(r,"failure"),(0,n._)(r)}getUsersUpdateListener(){return this.usersUpdated.asObservable()}static#e=this.\u0275fac=function(r){return new(r||g)(x.LFG(f.eN),x.LFG(b.o))};static#n=this.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},2563:(w,M,d)=>{d.d(M,{f:()=>D});var h=d(529),n=d(1737),v=d(4850),u=d(7221),x=d(2340),f=d(4650),b=d(5832);const m=x.N.apiUrl+"/file-upload/";let D=(()=>{class g{constructor(i,r){this.http=i,this.snackbarService=r}upload(i){const r=new FormData;return r.append("uploadedBy","Watson"),r.append("file",i,i.name),this.http.post(m+"create/",r,{observe:"events",reportProgress:!0}).pipe((0,v.U)(P=>this.getEventMessage(P))).pipe((0,u.K)(P=>this.handleError(P)))}getEventMessage(i){var r={progress:0,result:{}};switch(i.type){case h.dt.UploadProgress:r.progress=i.total?Math.round(100*i.loaded/i.total):0;case h.dt.Response:r.progress=100,i instanceof h.Zn&&(r.result=i.body.file)}return r}handleError(i){var r="";return r=i.error instanceof ErrorEvent?"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0639\u0645\u064a\u0644.":"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0632\u0648\u062f.",i.error.message&&(r+="\n",r+=i.error.message),this.snackbarService.openSnackBar(r,"failure"),(0,n._)(r)}static#e=this.\u0275fac=function(r){return new(r||g)(f.LFG(h.eN),f.LFG(b.o))};static#n=this.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},1894:(w,M,d)=>{d.d(M,{NP:()=>O,_f:()=>L,bB:()=>j,yH:()=>R});var h=d(5861),n=d(4650),v=d(6895),u=d(1481);function x(t,l){if(1&t){const e=n.EpF();n.TgZ(0,"ngx-dropzone-remove-badge",1),n.NdJ("click",function(a){n.CHM(e);const s=n.oxw();return n.KtG(s._remove(a))}),n.qZA()}}const f=[[["ngx-dropzone-label"]]],b=["ngx-dropzone-label"],m=["fileInput"];function D(t,l){1&t&&n.Hsn(0,2,["*ngIf","!_hasPreviews"])}const g=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],z=["ngx-dropzone-preview","*","ngx-dropzone-label"];function r(t,l){if(1&t&&(n.TgZ(0,"video",2),n.NdJ("click",function(o){return o.stopPropagation()}),n._UZ(1,"source",3),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("src",e.sanitizedVideoSrc,n.LSH)}}function P(t,l){if(1&t){const e=n.EpF();n.TgZ(0,"ngx-dropzone-remove-badge",4),n.NdJ("click",function(a){n.CHM(e);const s=n.oxw();return n.KtG(s._remove(a))}),n.qZA()}}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["ngx-dropzone-label"]]}),t})();function I(t){return null!=t&&"false"!=`${t}`}let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,o){1&e&&(n.O4$(),n.TgZ(0,"svg"),n._UZ(1,"line",0)(2,"line",1),n.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),t})();var N=(()=>{return(t=N||(N={}))[t.BACKSPACE=8]="BACKSPACE",t[t.DELETE=46]="DELETE",N;var t})();let E=(()=>{class t{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new n.vpe,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=I(e)}keyEvent(e){switch(e.keyCode){case N.BACKSPACE:case N.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var e=this;return(0,h.Z)(function*(){return new Promise((o,a)=>{const s=new FileReader;if(s.onload=p=>{o(p.target.result)},s.onerror=p=>{console.error(`FileReader failed on file ${e.file.name}.`),a(p)},!e.file)return a("No file to read. Please provide a file using the [file] Input property.");s.readAsDataURL(e.file)})})()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,o){1&e&&n.NdJ("keyup",function(s){return o.keyEvent(s)}),2&e&&(n.Ikx("tabindex",o.tabIndex),n.Akn(o.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:b,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,o){1&e&&(n.F$t(f),n.Hsn(0),n.YNc(1,x,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(n.xp6(1),n.Q6J("ngIf",o.removable))},dependencies:[T,v.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),t})(),B=(()=>{class t{parseFileList(e,o,a,s){const p=[],c=[];for(let C=0;C<e.length;C++){const y=e.item(C);this.isAccepted(y,o)?a&&y.size>a?this.rejectFile(c,y,"size"):!s&&p.length>=1?this.rejectFile(c,y,"no_multiple"):p.push(y):this.rejectFile(c,y,"type")}return{addedFiles:p,rejectedFiles:c}}isAccepted(e,o){if("*"===o)return!0;const a=o.split(",").map(_=>_.toLowerCase().trim()),s=e.type.toLowerCase(),p=e.name.toLowerCase();return!!a.find(_=>_.endsWith("/*")?s.split("/")[0]===_.split("/")[0]:_.startsWith(".")?p.endsWith(_):_==s)}rejectFile(e,o,a){const s=o;s.reason=a,e.push(s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),L=(()=>{class t{constructor(e){this.service=e,this.change=new n.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=I(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=I(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=function S(t){return isNaN(parseFloat(t))||isNaN(Number(t))?null:Number(t)}(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=I(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=I(e)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(e){this._processDirectoryDrop=I(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const o=e.dataTransfer.items;if(o.length>0){const a=[],s=[];for(let c=0;c<o.length;c++){const _=o[c].webkitGetAsEntry();_.isFile?a.push(e.dataTransfer.files[c]):_.isDirectory&&s.push(_)}const p=new DataTransfer;if(a.forEach(c=>{p.items.add(c)}),!s.length&&p.items.length&&this.handleFileDrop(p.files),s.length){const c=[];for(const _ of s)c.push(this.extractFilesFromDirectory(_));Promise.all(c).then(_=>{_.reduce((C,y)=>[...C,...y]).forEach(C=>{p.items.add(C)}),this.handleFileDrop(p.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}extractFilesFromDirectory(e){function o(s){return a.apply(this,arguments)}function a(){return(a=(0,h.Z)(function*(s){try{return yield new Promise((p,c)=>s.file(p,c))}catch(p){console.log("Error converting a fileEntry to a File: ",p)}})).apply(this,arguments)}return new Promise((s,p)=>{const c=[],_=e.createReader(),C=()=>{_.readEntries(function(){var y=(0,h.Z)(function*(F){if(F.length){const Z=F.filter(k=>k.isFile);for(const k of Z){const U=yield o(k);c.push(U)}C()}else s(c)});return function(F){return y.apply(this,arguments)}}())};C()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){const o=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:o.addedFiles,rejectedFiles:o.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(B,2))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,o,a){if(1&e&&n.Suo(a,E,5),2&e){let s;n.iGM(s=n.CRH())&&(o._previewChildren=s)}},viewQuery:function(e,o){if(1&e&&n.Gf(m,7),2&e){let a;n.iGM(a=n.CRH())&&(o._fileInput=a.first)}},hostVars:8,hostBindings:function(e,o){1&e&&n.NdJ("click",function(){return o._onClick()})("dragover",function(s){return o._onDragOver(s)})("dragleave",function(){return o._onDragLeave()})("drop",function(s){return o._onDrop(s)}),2&e&&n.ekj("ngx-dz-disabled",o.disabled)("expandable",o.expandable)("unclickable",o.disableClick)("ngx-dz-hovered",o._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[n._Bn([B])],ngContentSelectors:z,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,o){1&e&&(n.F$t(g),n.TgZ(0,"input",0,1),n.NdJ("change",function(s){return o._onFilesSelected(s)}),n.qZA(),n.YNc(2,D,1,0,"ng-content",2),n.Hsn(3),n.Hsn(4,1)),2&e&&(n.Q6J("id",o.id)("multiple",o.multiple)("accept",o.accept)("disabled",o.disabled),n.uIk("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedBy),n.xp6(2),n.Q6J("ngIf",!o._hasPreviews))},dependencies:[v.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),t})(),R=(()=>{class t extends E{constructor(e){super(e)}ngOnInit(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}ngOnDestroy(){URL.revokeObjectURL(this.videoSrc)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ngx-dropzone-video-preview"]],features:[n._Bn([{provide:E,useExisting:t}]),n.qOj],ngContentSelectors:b,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(e,o){1&e&&(n.F$t(f),n.YNc(0,r,2,1,"video",0),n.Hsn(1),n.YNc(2,P,1,0,"ngx-dropzone-remove-badge",1)),2&e&&(n.Q6J("ngIf",o.sanitizedVideoSrc),n.xp6(2),n.Q6J("ngIf",o.removable))},dependencies:[T,v.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[v.ez]]}),t})()},5861:(w,M,d)=>{function h(v,u,x,f,b,m,D){try{var g=v[m](D),z=g.value}catch(i){return void x(i)}g.done?u(z):Promise.resolve(z).then(f,b)}function n(v){return function(){var u=this,x=arguments;return new Promise(function(f,b){var m=v.apply(u,x);function D(z){h(m,f,b,D,g,"next",z)}function g(z){h(m,f,b,D,g,"throw",z)}D(void 0)})}}d.d(M,{Z:()=>n})}}]);