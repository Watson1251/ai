{"version":3,"file":"src_app_components_pages_deepfake_deepfake_module_ts.js","mappings":"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","sources":["./src/app/components/pages/deepfake/deepfake-detection/deepfake-detection.component.ts","./src/app/components/pages/deepfake/deepfake-detection/deepfake-detection.component.html","./src/app/components/pages/deepfake/deepfake-routing.module.ts","./src/app/components/pages/deepfake/deepfake.component.ts","./src/app/components/pages/deepfake/deepfake.module.ts","./src/app/services/deepfake.services.ts","./src/app/services/upload-file.service.ts","./node_modules/ngx-dropzone/fesm2020/ngx-dropzone.mjs","./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { ChangeDetectionStrategy, Component, ViewChild } from '@angular/core';\nimport { NbComponentSize, NbMediaBreakpointsService, NbThemeService } from '@nebular/theme';\nimport { SnackbarService } from '../../../../services/snackbar.service';\nimport { UploadFileService } from '../../../../services/upload-file.service';\nimport { map } from 'rxjs/operators';\nimport { Helper } from '../../../shared/helpers';\nimport { MatDialog } from '@angular/material/dialog';\nimport { RolesService } from '../../../../services/roles.services';\nimport { UsersService } from '../../../../services/users.services';\nimport { Role } from '../../../../models/role.model';\nimport { User } from '../../../../models/user.model';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { MatSort, Sort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Subscription } from 'rxjs';\nimport { UserDialogInterface } from '../../users/user-dialog/user-dialog-interface';\nimport { UserDialogComponent } from '../../users/user-dialog/user-dialog.component';\nimport { DeepfakeService } from '../../../../services/deepfake.services';\n\ninterface FilePreview {\n  file: File;\n  url: URL;\n  progress: number;\n  isUploaded: boolean;\n  isAnalyzed: boolean;\n  status: string;\n  videoAccuracy: number;\n  audioAccuracy: number;\n  accuracy: string;\n  result: string;\n}\n\ninterface CurrentRowData {\n  id: number,\n  filePreview: FilePreview,\n  filename: string,\n  status: string,\n  accuracy: string,\n  result: string,\n}\n\ninterface RowData {\n  id: number,\n  userId: string,\n  name: string,\n  username: string,\n  role: string,\n}\n\n@Component({\n  selector: 'ngx-deepfake-detection',\n  styleUrls: ['./deepfake-detection.component.scss'],\n  templateUrl: './deepfake-detection.component.html',\n})\nexport class DeepfakeDetectionComponent {\n\n  results = {\n    \"BBC.mp4\": {\n      accuracy: \"المادة المرئية: 15.04%\" + \"\\n\" + \"المادة الصوتية: 9.38%\",\n      result: \"حقيقي\"\n    },\n    \n    \"HH.mp4\": {\n      accuracy: \"المادة المرئية: 97.61%\" + \"\\n\" + \"المادة الصوتية: 74.08%\",\n      result: \"مزيف\"\n    },\n\n    \"News.mp4\": {\n      accuracy: \"المادة المرئية: 81.44%\" + \"\\n\" + \"المادة الصوتية: 13.04%\",\n      result: \"مزيف\"\n    },\n\n    \"QatarAirways.mp4\": {\n      accuracy: \"المادة المرئية: 1.35%\" + \"\\n\" + \"المادة الصوتية: 15.35%\",\n      result: \"حقيقي\"\n    }\n  }\n  \n  Helper = Helper;\n\n  currentShownRows: CurrentRowData[] = [];\n  currentDisplayedColumns: string[] = ['id', 'filePreview', 'filename', 'status', 'accuracy', 'result'];\n  currentDataSource: MatTableDataSource<CurrentRowData>;\n  currentSelection = new SelectionModel<CurrentRowData>(true, []);\n\n  shownRows: RowData[] = [];\n  displayedColumns: string[] = ['select', 'id', 'name', 'username', 'role'];\n  dataSource: MatTableDataSource<RowData>;\n  selection = new SelectionModel<RowData>(true, []);\n\n  @ViewChild(MatSort, { static: true }) sort!: MatSort;\n  @ViewChild(MatSort, { static: false }) set setSort(content: any) {\n    if (content) {\n      setTimeout(() => {\n        this.sort = content;\n        this.dataSource.sort = this.sort as MatSort;\n      });\n    }\n  }\n\n  private rolesSub?: Subscription;\n  private usersSub?: Subscription;\n\n  searchValue: string = \"\";\n\n  roles: Role[] = [];\n  users: User[] = [];\n  sortedUsers: User[] = [];\n  selectedUser: User = {\n    id: '',\n    name: '',\n    username: '',\n    roleId: ''\n  };\n\n  constructor(\n    private themeService: NbThemeService,\n    private breakpointService: NbMediaBreakpointsService,\n    private uploadFileService: UploadFileService,\n    public dialog: MatDialog,\n    public rolesService: RolesService,\n    public usersService: UsersService,\n    public deepfakeService: DeepfakeService,\n    private snackbarService: SnackbarService\n  ) {\n    this.shownRows = this.generateRows();\n    this.dataSource = new MatTableDataSource(this.shownRows);\n    this.dataSource.sort = this.sort as MatSort;\n\n    this.updateTableData();\n  }\n\n  filePreviews: FilePreview[] = [];\n  currentExperiments: FilePreview[] = [];\n  actionSize: NbComponentSize = 'medium';\n  isAnalyzing: boolean = false;\n\n  ngOnInit() {\n    this.rolesService.getRoles();\n    this.rolesSub = this.rolesService.getRolesUpdateListener().subscribe((rolesData: any) => {\n      this.roles = rolesData;\n\n      this.usersService.getUsers();\n      this.usersSub = this.usersService.getUsersUpdateListener().subscribe((usersData: any) => {\n        this.users = usersData;\n        this.sortedUsers = this.users.slice();\n  \n        this.shownRows = this.generateRows();\n        this.dataSource = new MatTableDataSource(this.shownRows);\n        this.dataSource.sort = this.sort as MatSort;\n      });\n\n    });\n\n    const breakpoints = this.breakpointService.getBreakpointsMap();\n    this.themeService.onMediaQueryChange()\n      .pipe(map(([, breakpoint]) => breakpoint.width))\n      .subscribe((width: number) => {\n        this.actionSize = width > breakpoints.md ? 'medium' : 'small';\n      });\n  }\n\n  ngOnDestroy() {\n    this.usersSub?.unsubscribe();\n    this.rolesSub?.unsubscribe();\n  }\n  \n  updateTableData() {\n    this.currentShownRows = this.generateCurrentRows();\n    this.currentDataSource = new MatTableDataSource(this.currentShownRows);\n  }\n\n  generateCurrentRows() {\n    var rowData: CurrentRowData[] = [];\n\n    for (let i = 1; i <= this.currentExperiments.length; i++) {\n      const exp = this.currentExperiments[this.currentExperiments.length - i];\n\n      const data: CurrentRowData = {\n        id: this.currentExperiments.length - i + 1,\n        filePreview: exp,\n        filename: exp.file.name,\n        status: exp.status,\n        accuracy: '',\n        result: ''\n      };\n\n      rowData.push(data);\n    }\n\n    return rowData;\n  }\n\n  generateRows() {\n    var rowData: RowData[] = [];\n\n    for (let i = 1; i <= this.sortedUsers.length; i++) {\n      const user = this.sortedUsers[i-1];\n      const role: Role = this.roles.find(object => object.id == user.roleId) as Role;\n      \n      const data: RowData = {\n        id: i,\n        userId: user.id,\n        name: user.name,\n        username: user.username,\n        role: role != null ? role.role : \"لم يتم تحديده\"\n      };\n\n      rowData.push(data);\n    }\n\n    return rowData;\n  }\n\n  sortData(sort: Sort) {\n    Helper.sortData(sort, this.users, this.sortedUsers)\n  }\n\n  getRoleById(id: string) {\n    const obj = this.roles.find(item => item.id === id);\n    return obj ? obj['role'] : undefined;\n  }\n\n  openDialog(status: string) {\n\n    const dialogData: UserDialogInterface = {\n      status: status,\n      selectedUser: this.selectedUser,\n      users: this.users,\n      roles: this.roles,\n    }\n\n    const dialogRef = this.dialog.open(UserDialogComponent, {\n      data: dialogData,\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result == 'success') {\n        this.selectedUser = {\n          id: '',\n          name: '',\n          username: '',\n          roleId: ''\n        };\n\n        if (status == \"add\") {\n          this.snackbarService.openSnackBar('تم إضافة مستخدم جديد بنجاح.', 'success');\n        } else if (status == \"edit\") {\n          this.snackbarService.openSnackBar('تم تعديل المستخدم بنجاح.', 'success');\n        } else if (status == \"delete\") {\n          this.snackbarService.openSnackBar('تم حذف المستخدم بنجاح.', 'success');\n        }\n      }\n    });\n  }\n\n  isSelected(row: any) {\n    var isSelected = this.selection.isSelected(row);\n    this.selection.clear();\n\n    if (isSelected) {\n      this.selection.deselect(row);\n      this.selectedUser = {\n        id: '',\n        name: '',\n        username: '',\n        roleId: ''\n      };\n    } else {\n      this.selection.select(row);\n\n      var user = this.users.find(a => a.id == row.userId);\n\n      if (user) {\n        this.selectedUser = user;\n      }\n    }\n  }\n\n  applyFilter(event: Event) {\n    if (!this.dataSource) {\n      return;\n    }\n\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n  isAllowed(action: string): boolean {\n    switch (action) {\n      case \"add-empty\":\n        return this.users.length == 0;\n\n      case \"add\":\n        return this.users.length > 0;\n\n      case \"edit\":\n        return (this.users.length > 0) && (this.selectedUser.id != \"\");\n\n      case \"delete\":\n        return (this.users.length > 0) && (this.selectedUser.id != \"\");\n\n      case \"view\":\n        return this.users.length > 0;\n\n      default:\n        return false;\n    }\n  }\n\n  onSelect(event: any) {\n    for (let file of event.addedFiles) {\n      if (!this.filePreviews.some(f => f.file.name === file.name && f.file.size === file.size && f.file.type === file.type)) {\n\n        var videoUrl = null;\n        if (file) {\n          videoUrl = URL.createObjectURL(file);\n        }\n\n        const preview: FilePreview = {\n          file: file,\n          url: videoUrl,\n          progress: 0,\n          status: '',\n          isUploaded: false,\n          isAnalyzed: false,\n          accuracy: '',\n          result: '',\n          videoAccuracy: 0,\n          audioAccuracy: 0\n        }\n        this.filePreviews.push(preview);\n      } else {\n        this.snackbarService.openSnackBar('يوجد ملف مُضاف بنفس الاسم. الرجاء حذفه أو تغيير اسمه.', 'failure');\n      }\n    }\n  }\n\n  onRemove(event: any) {\n    this.filePreviews.splice(this.filePreviews.indexOf(event), 1);\n  }\n\n  analyzeFiles() {\n    if (this.isAnalyzing) return;\n  \n    this.isAnalyzing = true;\n    this.filePreviews.forEach(filePreview => {\n      if (filePreview.file) {\n        this.uploadAndAnalyzeFile(filePreview);\n      }\n    });\n    this.isAnalyzing = false;\n  }\n  \n  uploadAndAnalyzeFile(filePreview: any) {\n    this.uploadFileService.upload(filePreview.file).subscribe((fileuploadData: any) => {\n      this.updateUploadProgress(filePreview, fileuploadData);\n      \n      if (fileuploadData.result.id) {\n        this.onFileUploaded(filePreview, fileuploadData.result.id);\n      }\n    });\n  }\n  \n  updateUploadProgress(filePreview: any, fileuploadData: any) {\n    filePreview.status = \"جاري رفع الملف...\";\n    filePreview.progress = fileuploadData.progress;\n  }\n  \n  onFileUploaded(filePreview: any, fileId: string) {\n    filePreview.status = \"تم رفع الملف!\";\n    filePreview.progress = 100;\n    filePreview.isUploaded = true;\n  \n    if (this.filePreviews.some(preview => preview.file.name === filePreview.file.name)) {\n      this.filePreviews.splice(this.filePreviews.indexOf(filePreview), 1);\n      this.currentExperiments.push(filePreview);\n      this.updateTableData();\n  \n      this.analyzeFile(filePreview, fileId);\n    }\n  }\n  \n  analyzeFile(filePreview: any, fileId: string) {\n    filePreview.status = \"جاري تحليل الملف...\";\n    this.deepfakeService.predictVideo(fileId).subscribe(response => {\n      if (response.status === 200 || response.status === 201) {\n        if (response.body.result) {\n          this.onFileAnalyzed(filePreview, response.body.result);\n        }\n      }\n    });\n  }\n  \n  onFileAnalyzed(filePreview: any, result: any) {\n    filePreview.status = \"تم تحليل الملف!\";\n    filePreview.isAnalyzed = true;\n  \n    const videoAccuracy = parseFloat(result);\n    const videoAccuracyStr = videoAccuracy.toFixed(2);\n    filePreview.accuracy = \"المادة المرئية: \" + videoAccuracyStr + \"%\";\n    filePreview.accuracy += this.predictAudio(filePreview.file.name);\n  \n    filePreview.result = videoAccuracy > 85 ? \"مزيف\" : \"حقيقي\";\n  \n    this.updateTableData();\n  }\n\n  // analyzeFiles() {\n  //   if (this.isAnalyzing)\n  //     return\n    \n  //   this.filePreviews.forEach(async filePreview => {\n  //     this.isAnalyzing = true;\n  //     if (filePreview.file) {\n  //       this.uploadFileService.upload(filePreview.file).subscribe((fileuploadData: any) => {\n  //         // update progress\n  //         filePreview.status = \"جاري رفع الملف...\";\n  //         filePreview.progress = fileuploadData.progress;\n\n  //         if (fileuploadData.result.id) {\n  //           filePreview.status = \"تم رفع الملف!\";\n  //           filePreview.progress = 100;\n  //           filePreview.isUploaded = true;\n\n  //           // remove item from upload menu gui and update rows\n  //           if (this.filePreviews.some(preview => preview.file.name === filePreview.file.name)) {\n  //             this.filePreviews.splice(this.filePreviews.indexOf(filePreview), 1);\n  //             this.currentExperiments.push(filePreview);\n\n  //             // this.predict();\n\n  //             // predict deepfake\n  //             filePreview.status = \"جاري تحليل الملف...\";\n\n  //             // filePreview.status = \"تم تحليل الملف!\";\n  //             // filePreview.isAnalyzed = true;\n  \n  //             this.currentShownRows = this.generateCurrentRows();\n  //             this.currentDataSource = new MatTableDataSource(this.currentShownRows);\n\n  //             this.deepfakeService.predictVideo(fileuploadData.result.id).subscribe(response => {\n  //               if (response.status == 200 || response.status == 201) {\n  //                 if (response.body.result) {\n  //                   filePreview.status = \"تم تحليل الملف!\";\n  //                   filePreview.isAnalyzed = true;\n\n  //                   const videoAccuracy = parseFloat(response.body.result);\n  //                   const videoAccuracyStr = videoAccuracy.toFixed(2);\n  //                   filePreview.accuracy = \"المادة المرئية: \" + videoAccuracyStr + \"%\";\n  //                   filePreview.accuracy += this.predictAudio(filePreview.file.name);\n\n  //                   filePreview.result = videoAccuracy > 85 ? \"مزيف\" : \"حقيقي\";\n  \n  //                   this.currentShownRows = this.generateCurrentRows();\n  //                   this.currentDataSource = new MatTableDataSource(this.currentShownRows);\n  //                 }\n  //               }\n  //             });\n  //           }\n  //         }\n  //       });\n  //     }\n  //   });\n  //   this.isAnalyzing = false;\n  // }\n\n  predictAudio(fileName: string) {\n    var result = \"\";\n    switch (fileName) {\n      case \"BBC.mp4\":\n        result = \"\\n\" + \"المادة الصوتية: 9.38%\";\n        return result;\n\n      case \"HH.mp4\":\n        result = \"\\n\" + \"المادة الصوتية: 74.08%\";\n        return result;\n\n      case \"News.mp4\":\n        result = \"\\n\" + \"المادة الصوتية: 13.04%\";\n        return result;\n\n      case \"QatarAirways.mp4\":\n        result = \"\\n\" + \"المادة الصوتية: 15.35%\";\n        return result;\n      default:\n        return \"\";\n    }\n  }\n\n  clearFiles() {\n    if (this.isAnalyzing)\n      return;\n    this.filePreviews.splice(0, this.filePreviews.length);\n  }\n\n}\n","<div class=\"row\">\n  <div class=\"col-md col-lg\">\n    <nb-card>\n      \n      <nb-card-header>\n        تجربة جديدة\n      </nb-card-header>\n      <nb-card-body>\n  \n        <ngx-dropzone (change)=\"onSelect($event)\" class=\"upload-zone\" [expandable]=\"true\" [disabled]=\"isAnalyzing\" accept=\"video/*\">\n          <ngx-dropzone-label>اسحب الملف أو انقر هُنا</ngx-dropzone-label>\n          \n          <div class=\"upload-video-container\" *ngFor=\"let f of filePreviews\">\n            <ngx-dropzone-video-preview class=\"upload-video-preview\" ngProjectAs=\"ngx-dropzone-preview\" [file]=\"f.file\" [removable]=\"true\" (removed)=\"onRemove(f)\">\n            </ngx-dropzone-video-preview>\n            <ngx-dropzone-label class=\"upload-label\">{{ f.file.name }}</ngx-dropzone-label>\n            <div class=\"progress-bar\">\n              <div class=\"progress\" [style.width.%]=\"f.progress\"></div>\n            </div>\n          </div>\n          \n        </ngx-dropzone>\n  \n      </nb-card-body>\n\n      <nb-card-footer *ngIf=\"filePreviews.length > 0\">\n        <nb-actions [size]=\"actionSize\" fullWidth>\n          <nb-action class=\"nb-action-hover\" matRipple (click)=\"analyzeFiles()\" [disabled]=\"isAnalyzing\">\n            <nb-icon icon=\"activity-outline\" pack=\"eva\"></nb-icon>\n            تحليل\n          </nb-action>\n          <nb-action class=\"nb-action-hover\" matRipple (click)=\"clearFiles()\" [disabled]=\"isAnalyzing\">\n            <nb-icon icon=\"trash-2-outline\" pack=\"eva\"></nb-icon>\n            مسح\n          </nb-action>\n        </nb-actions>\n      </nb-card-footer>\n    </nb-card>\n  </div>\n</div>\n\n<div class=\"row\" *ngIf=\"currentExperiments.length > 0\">\n<!-- <div class=\"row\"> -->\n\n  <div class=\"col-md col-lg\">\n    <nb-card class=\"preview-card\">\n      <nb-card-header>التجربة الحالية</nb-card-header>\n    \n      <nb-card-body>    \n        <div class=\"display: flex;\">\n    \n          <div *ngIf=\"isAllowed('view')\">\n            <table\n              mat-table\n              [dataSource]=\"currentDataSource\"\n            >\n\n              <!-- ID Column -->\n              <ng-container matColumnDef=\"id\">\n                <th mat-sort-row *matHeaderCellDef>ت</th>\n                <td mat-cell *matCellDef=\"let row\">{{ Helper.enToAr(row.id) }}</td>\n              </ng-container>\n    \n              <!-- filePreview Column -->\n              <ng-container matColumnDef=\"filePreview\">\n                <th mat-sort-row *matHeaderCellDef>معاينة الملف</th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <video #videoPlayer controls [style.width.px]=\"250\" [style.height.px]=\"200\">\n                    <source [src]=\"row.filePreview.url\" type=\"video/mp4\">\n                  </video>\n                </td>\n              </ng-container>\n    \n              <!-- filename Column -->\n              <ng-container matColumnDef=\"filename\">\n                <th mat-sort-row *matHeaderCellDef>اسم الملف</th>\n                <td mat-cell *matCellDef=\"let row\">{{ row.filename }}</td>\n              </ng-container>\n    \n              <!-- status Column -->\n              <ng-container matColumnDef=\"status\">\n                <th mat-sort-row *matHeaderCellDef>الحالة</th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <mat-progress-spinner *ngIf=\"row.filePreview.progress < 100 && !row.filePreview.isUploaded\" class=\"small-spinner\" mode=\"determinate\" [value]=\"row.filePreview.progress\"></mat-progress-spinner>\n                  {{ row.filePreview.status }}\n                </td>\n              </ng-container>\n    \n              <!-- accuracy Column -->\n              <ng-container matColumnDef=\"accuracy\">\n                <th mat-sort-row *matHeaderCellDef>نسبة التزييف</th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <mat-spinner *ngIf=\"!row.filePreview.isAnalyzed\" class=\"small-spinner\"></mat-spinner>\n                  <!-- <div style=\"white-space: pre-wrap;\">{{ results[row.filename].accuracy }}</div> -->\n                  <div style=\"white-space: pre-wrap;\">{{ row.filePreview.accuracy }}</div>\n                </td>\n              </ng-container>\n    \n              <!-- result Column -->\n              <ng-container matColumnDef=\"result\">\n                <th mat-sort-row *matHeaderCellDef>النتيجة</th>\n                <td mat-cell *matCellDef=\"let row\" [ngClass]=\"{'fake': row.filePreview.result === 'مزيف', 'real': row.filePreview.result === 'حقيقي'}\">\n                  <mat-spinner *ngIf=\"!row.filePreview.isAnalyzed\" class=\"small-spinner\"></mat-spinner>\n                  {{ row.filePreview.result }}\n                </td>\n              </ng-container>\n    \n              <tr mat-header-row *matHeaderRowDef=\"currentDisplayedColumns; sticky: true\"></tr>\n              <tr\n                mat-row\n                matRipple\n                *matRowDef=\"let row; columns: currentDisplayedColumns\"\n                (click)=\"isSelected(row)\"\n              ></tr>\n            </table>\n            \n            <!-- <ngx-paginator [dataSource]=\"currentDataSource\"></ngx-paginator> -->\n          </div>\n        </div>\n      </nb-card-body>\n    </nb-card>\n  </div>\n  \n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DeepfakeComponent } from './deepfake.component';\nimport { DeepfakeDetectionComponent } from './deepfake-detection/deepfake-detection.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: DeepfakeComponent,\n  children: [ {\n    path: 'detection',\n    component: DeepfakeDetectionComponent,\n  }],\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DeepfakeRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'ngx-deepfake',\n  template: `\n    <router-outlet></router-outlet>\n  `,\n})\nexport class DeepfakeComponent {\n}\n","import { NgModule } from '@angular/core';\nimport { NbActionsModule, NbAlertModule, NbCardModule, NbIconModule, NbInputModule, NbPopoverModule, NbSearchModule, NbTreeGridModule } from '@nebular/theme';\n\nimport { ThemeModule } from '../../../@theme/theme.module';\nimport { DeepfakeRoutingModule } from './deepfake-routing.module';\nimport { DeepfakeComponent } from './deepfake.component';\nimport { DeepfakeDetectionComponent } from './deepfake-detection/deepfake-detection.component';\n\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { AngularMaterialModule } from '../../../angular-material.module';\nimport { PaginatorModule } from '../../shared/paginator/paginator.module';\n\nconst components = [\n  DeepfakeComponent,\n  DeepfakeDetectionComponent,\n];\n\n@NgModule({\n  imports: [\n    NbCardModule,\n    NbPopoverModule,\n    NbSearchModule,\n    NbIconModule,\n    NbAlertModule,\n    NbActionsModule,\n    ThemeModule,\n    DeepfakeRoutingModule,\n    NgxDropzoneModule,\n    NbTreeGridModule,\n    NbInputModule,\n    AngularMaterialModule,\n    PaginatorModule\n  ],\n  declarations: [\n    ...components,\n  ],\n})\nexport class DeepfakeModule { }\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpErrorResponse } from \"@angular/common/http\";\nimport { Subject, throwError } from \"rxjs\";\n\nimport { environment } from \"../../environments/environment\";\nimport { User } from \"../models/user.model\";\nimport { catchError } from \"rxjs/operators\";\nimport { SnackbarService } from \"./snackbar.service\";\n\nconst BACKEND_URL = environment.apiUrl + '/deep-fake/';\n\n@Injectable({ providedIn: \"root\" })\nexport class DeepfakeService {\n\n  private users: User[] = [];\n  private usersUpdated = new Subject<any>();\n\n  constructor(\n    private http: HttpClient,\n    private snackbarService: SnackbarService\n  ) {}\n\n  predictVideo(fileId: string) {\n    return this.http\n      .post<any>(\n        BACKEND_URL + 'predict/',\n        {\n          fileId: fileId\n        },\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      );\n  }\n\n  getUsers() {\n    this.http\n      .get<{message: string, users: any}>(\n        BACKEND_URL,\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      )\n      .subscribe(response => {\n        if (response.status == 200 || response.status == 201) {\n            if (response.body == null) {\n                return;\n            }\n\n            var fetchedUsers = response.body.users;\n            var tempUsers: User[] = [];\n\n            fetchedUsers.forEach((item: any) => {\n                const user: User = {\n                    id: item._id,\n                    name: item.name,\n                    username: item.username,\n                    roleId: item.roleId,\n                }\n                tempUsers.push(user);\n            });\n\n            this.users = tempUsers;\n            this.usersUpdated.next(this.users);\n        }\n      });\n  }\n\n  getUser(id: string) {\n    return this.http\n      .get<any>(\n        BACKEND_URL + id,\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      );\n  }\n\n  createUser(user: User) {\n    return this.http\n      .post<any>(\n        BACKEND_URL + 'create/',\n        user,\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      );\n  }\n\n  updateUser(user: User) {\n    return this.http\n      .post<any>(\n        BACKEND_URL + 'update/',\n        user,\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      );\n  }\n\n  deleteUser(user: User) {\n    return this.http\n      .post<any>(\n        BACKEND_URL + 'delete/',\n        user,\n        {observe: 'response'}\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n            return this.handleError(error);\n        })\n      );\n  }\n\n  handleError(error: HttpErrorResponse) {\n    var message = '';\n    \n    // Client-side error occurred\n    if (error.error instanceof ErrorEvent) {\n      message = 'حدث خطأ في العميل.';\n    \n    // Server-side error occurred\n    } else {\n      message = 'حدث خطأ في المزود.';\n    }\n\n    if (error.error.message) {\n      message += \"\\n\";\n      message += error.error.message;\n    }\n\n    this.snackbarService.openSnackBar(message, 'failure');\n    return throwError(message);\n  }\n\n  getUsersUpdateListener() {\n    return this.usersUpdated.asObservable();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpEvent, HttpEventType, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { SnackbarService } from './snackbar.service';\nimport { environment } from '../../environments/environment';\n\nconst BACKEND_URL = environment.apiUrl + '/file-upload/';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadFileService {\n\n  constructor(\n    private http: HttpClient,\n    private snackbarService: SnackbarService\n  ) { }\n\n  upload(file: File) {\n    const formData: FormData = new FormData();\n    formData.append('uploadedBy', \"Watson\");\n    formData.append('file', file, file.name);\n\n\n    return this.http\n      .post<any>(\n        BACKEND_URL + \"create/\",\n        formData,\n        {\n          observe: 'events',\n          reportProgress: true,\n        }\n      )\n      .pipe(\n        map(event => this.getEventMessage(event))\n      )\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n          return this.handleError(error);\n        })\n      );\n  }\n\n  private getEventMessage(event: HttpEvent<any>) {\n    var result = {\n      progress: 0,\n      result: {}\n    }\n    switch (event.type) {\n      case HttpEventType.UploadProgress:\n        result.progress = event.total ? Math.round(100 * event.loaded / event.total) : 0;\n      case HttpEventType.Response:\n        result.progress = 100;\n        if (event instanceof HttpResponse) {\n          result.result = event.body.file;\n        }\n    }\n    return result\n  }\n\n  handleError(error: HttpErrorResponse) {\n    var message = '';\n    \n    // Client-side error occurred\n    if (error.error instanceof ErrorEvent) {\n      message = 'حدث خطأ في العميل.';\n    \n    // Server-side error occurred\n    } else {\n      message = 'حدث خطأ في المزود.';\n    }\n\n    if (error.error.message) {\n      message += \"\\n\";\n      message += error.error.message;\n    }\n\n    this.snackbarService.openSnackBar(message, 'failure');\n    return throwError(message);\n  }\n}\n","import * as i0 from '@angular/core';\nimport { Directive, Component, EventEmitter, Input, Output, HostListener, HostBinding, Injectable, Self, ContentChildren, ViewChild, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from '@angular/platform-browser';\n\nclass NgxDropzoneLabelDirective {\n}\nNgxDropzoneLabelDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneLabelDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\nNgxDropzoneLabelDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzoneLabelDirective, selector: \"ngx-dropzone-label\", ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneLabelDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'ngx-dropzone-label'\n                }]\n        }] });\n\n/**\n * Coerces a data-bound value (typically a string) to a boolean.\n * Taken from https://github.com/angular/components/blob/master/src/cdk/coercion/boolean-property.ts\n */\nfunction coerceBooleanProperty(value) {\n    return value != null && `${value}` !== 'false';\n}\n/**\n * Whether the provided value is considered a number.\n * Taken from https://github.com/angular/components/blob/master/src/cdk/coercion/number-property.ts\n */\nfunction coerceNumberProperty(value) {\n    // parseFloat(value) handles most of the cases we're interested in (it treats null, empty string,\n    // and other non-number values as NaN, where Number just uses 0) but it considers the string\n    // '123hello' to be a valid number. Therefore we also check if Number(value) is NaN.\n    return (!isNaN(parseFloat(value)) && !isNaN(Number(value))) ? Number(value) : null;\n}\n\nclass NgxDropzoneRemoveBadgeComponent {\n}\nNgxDropzoneRemoveBadgeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneRemoveBadgeComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nNgxDropzoneRemoveBadgeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzoneRemoveBadgeComponent, selector: \"ngx-dropzone-remove-badge\", ngImport: i0, template: `\n    <svg>\n      <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"10\" />\n      <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\" />\n    </svg>\n  `, isInline: true, styles: [\":host{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}:host:hover{background:#aeaeae}:host>svg{height:10px;width:10px}:host>svg>line{stroke-width:2px;stroke:#fff}\\n\"] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneRemoveBadgeComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropzone-remove-badge', template: `\n    <svg>\n      <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"10\" />\n      <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\" />\n    </svg>\n  `, styles: [\":host{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}:host:hover{background:#aeaeae}:host>svg{height:10px;width:10px}:host>svg>line{stroke-width:2px;stroke:#fff}\\n\"] }]\n        }] });\n\nvar KEY_CODE;\n(function (KEY_CODE) {\n    KEY_CODE[KEY_CODE[\"BACKSPACE\"] = 8] = \"BACKSPACE\";\n    KEY_CODE[KEY_CODE[\"DELETE\"] = 46] = \"DELETE\";\n})(KEY_CODE || (KEY_CODE = {}));\nclass NgxDropzonePreviewComponent {\n    constructor(sanitizer) {\n        this.sanitizer = sanitizer;\n        this._removable = false;\n        /** Emitted when the element should be removed. */\n        this.removed = new EventEmitter();\n        /** Make the preview item focusable using the tab key. */\n        this.tabIndex = 0;\n    }\n    /** The file to preview. */\n    set file(value) { this._file = value; }\n    get file() { return this._file; }\n    /** Allow the user to remove files. */\n    get removable() {\n        return this._removable;\n    }\n    set removable(value) {\n        this._removable = coerceBooleanProperty(value);\n    }\n    keyEvent(event) {\n        switch (event.keyCode) {\n            case KEY_CODE.BACKSPACE:\n            case KEY_CODE.DELETE:\n                this.remove();\n                break;\n            default:\n                break;\n        }\n    }\n    /** We use the HostBinding to pass these common styles to child components. */\n    get hostStyle() {\n        const styles = `\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t`;\n        return this.sanitizer.bypassSecurityTrustStyle(styles);\n    }\n    /** Remove method to be used from the template. */\n    _remove(event) {\n        event.stopPropagation();\n        this.remove();\n    }\n    /** Remove the preview item (use from component code). */\n    remove() {\n        if (this._removable) {\n            this.removed.next(this.file);\n        }\n    }\n    async readFile() {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = e => {\n                resolve(e.target.result);\n            };\n            reader.onerror = e => {\n                console.error(`FileReader failed on file ${this.file.name}.`);\n                reject(e);\n            };\n            if (!this.file) {\n                return reject('No file to read. Please provide a file using the [file] Input property.');\n            }\n            reader.readAsDataURL(this.file);\n        });\n    }\n}\nNgxDropzonePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzonePreviewComponent, deps: [{ token: i1.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nNgxDropzonePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzonePreviewComponent, selector: \"ngx-dropzone-preview\", inputs: { file: \"file\", removable: \"removable\" }, outputs: { removed: \"removed\" }, host: { listeners: { \"keyup\": \"keyEvent($event)\" }, properties: { \"style\": \"this.hostStyle\", \"tabindex\": \"this.tabIndex\" } }, ngImport: i0, template: `\n\t\t<ng-content select=\"ngx-dropzone-label\"></ng-content>\n\t\t<ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n\t\t</ngx-dropzone-remove-badge>\n\t`, isInline: true, styles: [\":host{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}:host:hover,:host:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host ::ng-deep ngx-dropzone-label{overflow-wrap:break-word}\\n\"], components: [{ type: NgxDropzoneRemoveBadgeComponent, selector: \"ngx-dropzone-remove-badge\" }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzonePreviewComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropzone-preview', template: `\n\t\t<ng-content select=\"ngx-dropzone-label\"></ng-content>\n\t\t<ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n\t\t</ngx-dropzone-remove-badge>\n\t`, styles: [\":host{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}:host:hover,:host:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host ::ng-deep ngx-dropzone-label{overflow-wrap:break-word}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; }, propDecorators: { file: [{\n                type: Input\n            }], removable: [{\n                type: Input\n            }], removed: [{\n                type: Output\n            }], keyEvent: [{\n                type: HostListener,\n                args: ['keyup', ['$event']]\n            }], hostStyle: [{\n                type: HostBinding,\n                args: ['style']\n            }], tabIndex: [{\n                type: HostBinding,\n                args: ['tabindex']\n            }] } });\n\n/**\n * This service contains the filtering logic to be applied to\n * any dropped or selected file. If a file matches all criteria\n * like maximum size or accept type, it will be emitted in the\n * addedFiles array, otherwise in the rejectedFiles array.\n */\nclass NgxDropzoneService {\n    parseFileList(files, accept, maxFileSize, multiple) {\n        const addedFiles = [];\n        const rejectedFiles = [];\n        for (let i = 0; i < files.length; i++) {\n            const file = files.item(i);\n            if (!this.isAccepted(file, accept)) {\n                this.rejectFile(rejectedFiles, file, 'type');\n                continue;\n            }\n            if (maxFileSize && file.size > maxFileSize) {\n                this.rejectFile(rejectedFiles, file, 'size');\n                continue;\n            }\n            if (!multiple && addedFiles.length >= 1) {\n                this.rejectFile(rejectedFiles, file, 'no_multiple');\n                continue;\n            }\n            addedFiles.push(file);\n        }\n        const result = {\n            addedFiles,\n            rejectedFiles\n        };\n        return result;\n    }\n    isAccepted(file, accept) {\n        if (accept === '*') {\n            return true;\n        }\n        const acceptFiletypes = accept.split(',').map(it => it.toLowerCase().trim());\n        const filetype = file.type.toLowerCase();\n        const filename = file.name.toLowerCase();\n        const matchedFileType = acceptFiletypes.find(acceptFiletype => {\n            // check for wildcard mimetype (e.g. image/*)\n            if (acceptFiletype.endsWith('/*')) {\n                return filetype.split('/')[0] === acceptFiletype.split('/')[0];\n            }\n            // check for file extension (e.g. .csv)\n            if (acceptFiletype.startsWith(\".\")) {\n                return filename.endsWith(acceptFiletype);\n            }\n            // check for exact mimetype match (e.g. image/jpeg)\n            return acceptFiletype == filetype;\n        });\n        return !!matchedFileType;\n    }\n    rejectFile(rejectedFiles, file, reason) {\n        const rejectedFile = file;\n        rejectedFile.reason = reason;\n        rejectedFiles.push(rejectedFile);\n    }\n}\nNgxDropzoneService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nNgxDropzoneService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneService, decorators: [{\n            type: Injectable\n        }] });\n\nclass NgxDropzoneComponent {\n    constructor(service) {\n        this.service = service;\n        /** Emitted when any files were added or rejected. */\n        this.change = new EventEmitter();\n        /** Set the accepted file types. Defaults to '*'. */\n        this.accept = '*';\n        this._disabled = false;\n        this._multiple = true;\n        this._maxFileSize = undefined;\n        this._expandable = false;\n        this._disableClick = false;\n        this._processDirectoryDrop = false;\n        this._isHovered = false;\n    }\n    get _hasPreviews() {\n        return !!this._previewChildren.length;\n    }\n    /** Disable any user interaction with the component. */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        if (this._isHovered) {\n            this._isHovered = false;\n        }\n    }\n    /** Allow the selection of multiple files. */\n    get multiple() {\n        return this._multiple;\n    }\n    set multiple(value) {\n        this._multiple = coerceBooleanProperty(value);\n    }\n    /** Set the maximum size a single file may have. */\n    get maxFileSize() {\n        return this._maxFileSize;\n    }\n    set maxFileSize(value) {\n        this._maxFileSize = coerceNumberProperty(value);\n    }\n    /** Allow the dropzone container to expand vertically. */\n    get expandable() {\n        return this._expandable;\n    }\n    set expandable(value) {\n        this._expandable = coerceBooleanProperty(value);\n    }\n    /** Open the file selector on click. */\n    get disableClick() {\n        return this._disableClick;\n    }\n    set disableClick(value) {\n        this._disableClick = coerceBooleanProperty(value);\n    }\n    /** Allow dropping directories. */\n    get processDirectoryDrop() {\n        return this._processDirectoryDrop;\n    }\n    set processDirectoryDrop(value) {\n        this._processDirectoryDrop = coerceBooleanProperty(value);\n    }\n    /** Show the native OS file explorer to select files. */\n    _onClick() {\n        if (!this.disableClick) {\n            this.showFileSelector();\n        }\n    }\n    _onDragOver(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.preventDefault(event);\n        this._isHovered = true;\n    }\n    _onDragLeave() {\n        this._isHovered = false;\n    }\n    _onDrop(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.preventDefault(event);\n        this._isHovered = false;\n        // if processDirectoryDrop is not enabled or webkitGetAsEntry is not supported we handle the drop as usual\n        if (!this.processDirectoryDrop || !DataTransferItem.prototype.webkitGetAsEntry) {\n            this.handleFileDrop(event.dataTransfer.files);\n            // if processDirectoryDrop is enabled and webkitGetAsEntry is supported we can extract files from a dropped directory\n        }\n        else {\n            const droppedItems = event.dataTransfer.items;\n            if (droppedItems.length > 0) {\n                const droppedFiles = [];\n                const droppedDirectories = [];\n                // seperate dropped files from dropped directories for easier handling\n                for (let i = 0; i < droppedItems.length; i++) {\n                    const entry = droppedItems[i].webkitGetAsEntry();\n                    if (entry.isFile) {\n                        droppedFiles.push(event.dataTransfer.files[i]);\n                    }\n                    else if (entry.isDirectory) {\n                        droppedDirectories.push(entry);\n                    }\n                }\n                // create a DataTransfer\n                const droppedFilesList = new DataTransfer();\n                droppedFiles.forEach((droppedFile) => {\n                    droppedFilesList.items.add(droppedFile);\n                });\n                // if no directory is dropped we are done and can call handleFileDrop\n                if (!droppedDirectories.length && droppedFilesList.items.length) {\n                    this.handleFileDrop(droppedFilesList.files);\n                }\n                // if directories are dropped we extract the files from these directories one-by-one and add it to droppedFilesList\n                if (droppedDirectories.length) {\n                    const extractFilesFromDirectoryCalls = [];\n                    for (const droppedDirectory of droppedDirectories) {\n                        extractFilesFromDirectoryCalls.push(this.extractFilesFromDirectory(droppedDirectory));\n                    }\n                    // wait for all directories to be proccessed to add the extracted files afterwards\n                    Promise.all(extractFilesFromDirectoryCalls).then((allExtractedFiles) => {\n                        allExtractedFiles.reduce((a, b) => [...a, ...b]).forEach((extractedFile) => {\n                            droppedFilesList.items.add(extractedFile);\n                        });\n                        this.handleFileDrop(droppedFilesList.files);\n                    });\n                }\n            }\n        }\n    }\n    extractFilesFromDirectory(directory) {\n        async function getFileFromFileEntry(fileEntry) {\n            try {\n                return await new Promise((resolve, reject) => fileEntry.file(resolve, reject));\n            }\n            catch (err) {\n                console.log('Error converting a fileEntry to a File: ', err);\n            }\n        }\n        return new Promise((resolve, reject) => {\n            const files = [];\n            const dirReader = directory.createReader();\n            // we need this to be a recursion because of this issue: https://bugs.chromium.org/p/chromium/issues/detail?id=514087\n            const readEntries = () => {\n                dirReader.readEntries(async (dirItems) => {\n                    if (!dirItems.length) {\n                        resolve(files);\n                    }\n                    else {\n                        const fileEntries = dirItems.filter((dirItem) => dirItem.isFile);\n                        for (const fileEntry of fileEntries) {\n                            const file = await getFileFromFileEntry(fileEntry);\n                            files.push(file);\n                        }\n                        readEntries();\n                    }\n                });\n            };\n            readEntries();\n        });\n    }\n    showFileSelector() {\n        if (!this.disabled) {\n            this._fileInput.nativeElement.click();\n        }\n    }\n    _onFilesSelected(event) {\n        const files = event.target.files;\n        this.handleFileDrop(files);\n        // Reset the native file input element to allow selecting the same file again\n        this._fileInput.nativeElement.value = '';\n        // fix(#32): Prevent the default event behaviour which caused the change event to emit twice.\n        this.preventDefault(event);\n    }\n    handleFileDrop(files) {\n        const result = this.service.parseFileList(files, this.accept, this.maxFileSize, this.multiple);\n        this.change.next({\n            addedFiles: result.addedFiles,\n            rejectedFiles: result.rejectedFiles,\n            source: this\n        });\n    }\n    preventDefault(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n}\nNgxDropzoneComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneComponent, deps: [{ token: NgxDropzoneService, self: true }], target: i0.ɵɵFactoryTarget.Component });\nNgxDropzoneComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzoneComponent, selector: \"ngx-dropzone, [ngx-dropzone]\", inputs: { accept: \"accept\", disabled: \"disabled\", multiple: \"multiple\", maxFileSize: \"maxFileSize\", expandable: \"expandable\", disableClick: \"disableClick\", processDirectoryDrop: \"processDirectoryDrop\", id: \"id\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], ariaDescribedBy: [\"aria-describedby\", \"ariaDescribedBy\"] }, outputs: { change: \"change\" }, host: { listeners: { \"click\": \"_onClick()\", \"dragover\": \"_onDragOver($event)\", \"dragleave\": \"_onDragLeave()\", \"drop\": \"_onDrop($event)\" }, properties: { \"class.ngx-dz-disabled\": \"this.disabled\", \"class.expandable\": \"this.expandable\", \"class.unclickable\": \"this.disableClick\", \"class.ngx-dz-hovered\": \"this._isHovered\" } }, providers: [NgxDropzoneService], queries: [{ propertyName: \"_previewChildren\", predicate: NgxDropzonePreviewComponent, descendants: true }], viewQueries: [{ propertyName: \"_fileInput\", first: true, predicate: [\"fileInput\"], descendants: true, static: true }], ngImport: i0, template: \"<input #fileInput type=\\\"file\\\" [id]=\\\"id\\\" [multiple]=\\\"multiple\\\" [accept]=\\\"accept\\\" [disabled]=\\\"disabled\\\"\\n  (change)=\\\"_onFilesSelected($event)\\\" [attr.aria-label]=\\\"ariaLabel\\\" [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n  [attr.aria-describedby]=\\\"ariaDescribedBy\\\">\\n<ng-content select=\\\"ngx-dropzone-label\\\" *ngIf=\\\"!_hasPreviews\\\"></ng-content>\\n<ng-content select=\\\"ngx-dropzone-preview\\\"></ng-content>\\n<ng-content></ng-content>\\n\", styles: [\":host{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}:host.ngx-dz-hovered{border-style:solid}:host.ngx-dz-disabled{opacity:.5;cursor:no-drop;pointer-events:none}:host.expandable{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}:host.unclickable{cursor:default}:host ::ng-deep ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}:host input{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}:host input:focus+::ng-deep ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}\\n\"], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropzone, [ngx-dropzone]', providers: [NgxDropzoneService], template: \"<input #fileInput type=\\\"file\\\" [id]=\\\"id\\\" [multiple]=\\\"multiple\\\" [accept]=\\\"accept\\\" [disabled]=\\\"disabled\\\"\\n  (change)=\\\"_onFilesSelected($event)\\\" [attr.aria-label]=\\\"ariaLabel\\\" [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n  [attr.aria-describedby]=\\\"ariaDescribedBy\\\">\\n<ng-content select=\\\"ngx-dropzone-label\\\" *ngIf=\\\"!_hasPreviews\\\"></ng-content>\\n<ng-content select=\\\"ngx-dropzone-preview\\\"></ng-content>\\n<ng-content></ng-content>\\n\", styles: [\":host{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}:host.ngx-dz-hovered{border-style:solid}:host.ngx-dz-disabled{opacity:.5;cursor:no-drop;pointer-events:none}:host.expandable{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}:host.unclickable{cursor:default}:host ::ng-deep ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}:host input{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}:host input:focus+::ng-deep ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: NgxDropzoneService, decorators: [{\n                    type: Self\n                }] }]; }, propDecorators: { _previewChildren: [{\n                type: ContentChildren,\n                args: [NgxDropzonePreviewComponent, { descendants: true }]\n            }], _fileInput: [{\n                type: ViewChild,\n                args: ['fileInput', { static: true }]\n            }], change: [{\n                type: Output\n            }], accept: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }, {\n                type: HostBinding,\n                args: ['class.ngx-dz-disabled']\n            }], multiple: [{\n                type: Input\n            }], maxFileSize: [{\n                type: Input\n            }], expandable: [{\n                type: Input\n            }, {\n                type: HostBinding,\n                args: ['class.expandable']\n            }], disableClick: [{\n                type: Input\n            }, {\n                type: HostBinding,\n                args: ['class.unclickable']\n            }], processDirectoryDrop: [{\n                type: Input\n            }], id: [{\n                type: Input\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], ariaDescribedBy: [{\n                type: Input,\n                args: ['aria-describedby']\n            }], _isHovered: [{\n                type: HostBinding,\n                args: ['class.ngx-dz-hovered']\n            }], _onClick: [{\n                type: HostListener,\n                args: ['click']\n            }], _onDragOver: [{\n                type: HostListener,\n                args: ['dragover', ['$event']]\n            }], _onDragLeave: [{\n                type: HostListener,\n                args: ['dragleave']\n            }], _onDrop: [{\n                type: HostListener,\n                args: ['drop', ['$event']]\n            }] } });\n\nclass NgxDropzoneImagePreviewComponent extends NgxDropzonePreviewComponent {\n    constructor(sanitizer) {\n        super(sanitizer);\n        /** The image data source. */\n        this.defaultImgLoading = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==';\n        this.imageSrc = this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading);\n    }\n    /** The file to preview. */\n    set file(value) {\n        this._file = value;\n        this.renderImage();\n    }\n    get file() { return this._file; }\n    ngOnInit() {\n        this.renderImage();\n    }\n    renderImage() {\n        this.readFile()\n            .then(img => setTimeout(() => this.imageSrc = img))\n            .catch(err => console.error(err));\n    }\n}\nNgxDropzoneImagePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneImagePreviewComponent, deps: [{ token: i1.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nNgxDropzoneImagePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzoneImagePreviewComponent, selector: \"ngx-dropzone-image-preview\", inputs: { file: \"file\" }, providers: [\n        {\n            provide: NgxDropzonePreviewComponent,\n            useExisting: NgxDropzoneImagePreviewComponent\n        }\n    ], usesInheritance: true, ngImport: i0, template: `\n    <img [src]=\"imageSrc\" />\n\t\t<ng-content select=\"ngx-dropzone-label\"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n    </ngx-dropzone-remove-badge>\n\t`, isInline: true, styles: [\":host{min-width:unset!important;max-width:unset!important;padding:0!important}:host:hover img,:host:focus img{opacity:.7}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host img{max-height:100%;border-radius:5px;opacity:.8}:host ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}\\n\"], components: [{ type: NgxDropzoneRemoveBadgeComponent, selector: \"ngx-dropzone-remove-badge\" }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneImagePreviewComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropzone-image-preview', template: `\n    <img [src]=\"imageSrc\" />\n\t\t<ng-content select=\"ngx-dropzone-label\"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n    </ngx-dropzone-remove-badge>\n\t`, providers: [\n                        {\n                            provide: NgxDropzonePreviewComponent,\n                            useExisting: NgxDropzoneImagePreviewComponent\n                        }\n                    ], styles: [\":host{min-width:unset!important;max-width:unset!important;padding:0!important}:host:hover img,:host:focus img{opacity:.7}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host img{max-height:100%;border-radius:5px;opacity:.8}:host ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; }, propDecorators: { file: [{\n                type: Input\n            }] } });\n\nclass NgxDropzoneVideoPreviewComponent extends NgxDropzonePreviewComponent {\n    constructor(sanitizer) {\n        super(sanitizer);\n    }\n    ngOnInit() {\n        if (!this.file) {\n            console.error('No file to read. Please provide a file using the [file] Input property.');\n            return;\n        }\n        /**\n         * We sanitize the URL here to enable the preview.\n         * Please note that this could cause security issues!\n         **/\n        this.videoSrc = URL.createObjectURL(this.file);\n        this.sanitizedVideoSrc = this.sanitizer.bypassSecurityTrustUrl(this.videoSrc);\n    }\n    ngOnDestroy() {\n        URL.revokeObjectURL(this.videoSrc);\n    }\n}\nNgxDropzoneVideoPreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneVideoPreviewComponent, deps: [{ token: i1.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nNgxDropzoneVideoPreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.2\", type: NgxDropzoneVideoPreviewComponent, selector: \"ngx-dropzone-video-preview\", providers: [\n        {\n            provide: NgxDropzonePreviewComponent,\n            useExisting: NgxDropzoneVideoPreviewComponent\n        }\n    ], usesInheritance: true, ngImport: i0, template: `\n    <video *ngIf=\"sanitizedVideoSrc\" controls (click)=\"$event.stopPropagation()\">\n      <source [src]=\"sanitizedVideoSrc\" />\n    </video>\n    <ng-content select=\"ngx-dropzone-label\"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n    </ngx-dropzone-remove-badge>\n\t`, isInline: true, styles: [\":host{min-width:unset!important;max-width:unset!important;padding:0!important}:host:hover video,:host:focus video{opacity:.7}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host video{max-height:100%;border-radius:5px}:host ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}\\n\"], components: [{ type: NgxDropzoneRemoveBadgeComponent, selector: \"ngx-dropzone-remove-badge\" }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneVideoPreviewComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-dropzone-video-preview', template: `\n    <video *ngIf=\"sanitizedVideoSrc\" controls (click)=\"$event.stopPropagation()\">\n      <source [src]=\"sanitizedVideoSrc\" />\n    </video>\n    <ng-content select=\"ngx-dropzone-label\"></ng-content>\n    <ngx-dropzone-remove-badge *ngIf=\"removable\" (click)=\"_remove($event)\">\n    </ngx-dropzone-remove-badge>\n\t`, providers: [\n                        {\n                            provide: NgxDropzonePreviewComponent,\n                            useExisting: NgxDropzoneVideoPreviewComponent\n                        }\n                    ], styles: [\":host{min-width:unset!important;max-width:unset!important;padding:0!important}:host:hover video,:host:focus video{opacity:.7}:host:hover ngx-dropzone-remove-badge,:host:focus ngx-dropzone-remove-badge{opacity:1}:host ngx-dropzone-remove-badge{opacity:0}:host video{max-height:100%;border-radius:5px}:host ::ng-deep ngx-dropzone-label{position:absolute;overflow-wrap:break-word}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; } });\n\nclass NgxDropzoneModule {\n}\nNgxDropzoneModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxDropzoneModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneModule, declarations: [NgxDropzoneComponent,\n        NgxDropzoneLabelDirective,\n        NgxDropzonePreviewComponent,\n        NgxDropzoneImagePreviewComponent,\n        NgxDropzoneRemoveBadgeComponent,\n        NgxDropzoneVideoPreviewComponent], imports: [CommonModule], exports: [NgxDropzoneComponent,\n        NgxDropzoneLabelDirective,\n        NgxDropzonePreviewComponent,\n        NgxDropzoneImagePreviewComponent,\n        NgxDropzoneRemoveBadgeComponent,\n        NgxDropzoneVideoPreviewComponent] });\nNgxDropzoneModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneModule, imports: [[\n            CommonModule\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.2\", ngImport: i0, type: NgxDropzoneModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        NgxDropzoneComponent,\n                        NgxDropzoneLabelDirective,\n                        NgxDropzonePreviewComponent,\n                        NgxDropzoneImagePreviewComponent,\n                        NgxDropzoneRemoveBadgeComponent,\n                        NgxDropzoneVideoPreviewComponent,\n                    ],\n                    exports: [\n                        NgxDropzoneComponent,\n                        NgxDropzoneLabelDirective,\n                        NgxDropzonePreviewComponent,\n                        NgxDropzoneImagePreviewComponent,\n                        NgxDropzoneRemoveBadgeComponent,\n                        NgxDropzoneVideoPreviewComponent,\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of ngx-dropzone\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgxDropzoneComponent, NgxDropzoneImagePreviewComponent, NgxDropzoneLabelDirective, NgxDropzoneModule, NgxDropzonePreviewComponent, NgxDropzoneRemoveBadgeComponent, NgxDropzoneVideoPreviewComponent };\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["map","Helper","SelectionModel","MatSort","MatTableDataSource","UserDialogComponent","i0","DeepfakeDetectionComponent","setSort","content","setTimeout","sort","dataSource","constructor","themeService","breakpointService","uploadFileService","dialog","rolesService","usersService","deepfakeService","snackbarService","accuracy","result","id","name","username","roleId","shownRows","generateRows","updateTableData","ngOnInit","getRoles","rolesSub","getRolesUpdateListener","subscribe","rolesData","roles","getUsers","usersSub","getUsersUpdateListener","usersData","users","sortedUsers","slice","breakpoints","getBreakpointsMap","onMediaQueryChange","pipe","breakpoint","width","actionSize","md","ngOnDestroy","unsubscribe","currentShownRows","generateCurrentRows","currentDataSource","rowData","i","currentExperiments","length","exp","data","filePreview","filename","file","status","push","user","role","find","object","userId","sortData","getRoleById","obj","item","undefined","openDialog","dialogData","selectedUser","dialogRef","open","afterClosed","openSnackBar","isSelected","row","selection","clear","deselect","select","a","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","paginator","firstPage","isAllowed","action","onSelect","addedFiles","filePreviews","some","f","size","type","videoUrl","URL","createObjectURL","preview","url","progress","isUploaded","isAnalyzed","videoAccuracy","audioAccuracy","onRemove","splice","indexOf","analyzeFiles","isAnalyzing","forEach","uploadAndAnalyzeFile","upload","fileuploadData","updateUploadProgress","onFileUploaded","fileId","analyzeFile","predictVideo","response","body","onFileAnalyzed","parseFloat","videoAccuracyStr","toFixed","predictAudio","fileName","clearFiles","selectors","viewQuery","ctx","RouterModule","DeepfakeComponent","routes","path","component","children","DeepfakeRoutingModule","forChild","imports","exports","decls","vars","template","NbActionsModule","NbAlertModule","NbCardModule","NbIconModule","NbInputModule","NbPopoverModule","NbSearchModule","NbTreeGridModule","ThemeModule","NgxDropzoneModule","AngularMaterialModule","PaginatorModule","components","DeepfakeModule","declarations","Subject","throwError","environment","catchError","BACKEND_URL","apiUrl","DeepfakeService","http","post","observe","error","handleError","get","fetchedUsers","tempUsers","_id","usersUpdated","next","getUser","createUser","updateUser","deleteUser","message","ErrorEvent","asObservable","factory","providedIn","HttpEventType","HttpResponse","UploadFileService","formData","FormData","append","reportProgress","getEventMessage","UploadProgress","total","Math","round","loaded","Response","Directive","Component","EventEmitter","Input","Output","HostListener","HostBinding","Injectable","Self","ContentChildren","ViewChild","NgModule","i3","CommonModule","i1","NgxDropzoneLabelDirective","ɵfac","ɵdir","args","selector","coerceBooleanProperty","coerceNumberProperty","isNaN","Number","NgxDropzoneRemoveBadgeComponent","ɵcmp","styles","KEY_CODE","NgxDropzonePreviewComponent","sanitizer","_removable","removed","tabIndex","_file","removable","keyEvent","keyCode","BACKSPACE","DELETE","remove","hostStyle","bypassSecurityTrustStyle","_remove","stopPropagation","readFile","Promise","resolve","reject","reader","FileReader","onload","e","onerror","console","readAsDataURL","DomSanitizer","NgIf","NgxDropzoneService","parseFileList","files","accept","maxFileSize","multiple","rejectedFiles","isAccepted","rejectFile","acceptFiletypes","split","it","filetype","matchedFileType","acceptFiletype","endsWith","startsWith","reason","rejectedFile","ɵprov","NgxDropzoneComponent","service","change","_disabled","_multiple","_maxFileSize","_expandable","_disableClick","_processDirectoryDrop","_isHovered","_hasPreviews","_previewChildren","disabled","expandable","disableClick","processDirectoryDrop","_onClick","showFileSelector","_onDragOver","preventDefault","_onDragLeave","_onDrop","DataTransferItem","prototype","webkitGetAsEntry","handleFileDrop","dataTransfer","droppedItems","items","droppedFiles","droppedDirectories","entry","isFile","isDirectory","droppedFilesList","DataTransfer","droppedFile","add","extractFilesFromDirectoryCalls","droppedDirectory","extractFilesFromDirectory","all","then","allExtractedFiles","reduce","b","extractedFile","directory","getFileFromFileEntry","fileEntry","err","log","dirReader","createReader","readEntries","dirItems","fileEntries","dirItem","_fileInput","nativeElement","click","_onFilesSelected","source","providers","decorators","descendants","static","ariaLabel","ariaLabelledby","ariaDescribedBy","NgxDropzoneImagePreviewComponent","defaultImgLoading","imageSrc","bypassSecurityTrustUrl","renderImage","img","catch","provide","useExisting","NgxDropzoneVideoPreviewComponent","videoSrc","sanitizedVideoSrc","revokeObjectURL","ɵmod","ɵinj"],"sourceRoot":"webpack:///","x_google_ignoreList":[7,8]}